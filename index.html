<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="images/9133514_signup_register_login_icon.png">
  <link rel="apple-touch-icon" href="images/9133514_signup_register_login_icon.png">

  <title>
    Signing Up
  </title>
  <style>
      @import url('https://fonts.googleapis.com/css2?family=Lalezar&family=Noto+Naskh+Arabic:wght@500&family=Ubuntu:wght@300&family=Vazirmatn:wght@200;400&display=swap');
*{
  margin: 0px;
  padding: 0px;
  font-family: 'vazirmatn';
}
::selection{
          background-color: orange;
          color: purple;
          
        }
@media screen and (min-width:624px) {
  body {
      background-image: url(images/pexels_engin_akyurt_1487809.jpg);
      margin: 0;
      padding: 0;
      background-repeat: no-repeat;
      background-size: 100% 100%;
      background-attachment: fixed;
    }
    header{
        width: 100%;
        height: 70px;
        background-color: black;
        color: white;
        text-align: center;
    }
    header h1{
      position: relative;
      top: 8px;
      font-size: 175%;  
    }
    form {
      position:relative;
      margin-left: 25%;
      margin-right: 25%;
      width: 50%;
      height: 775px;
      background-color: aquamarine;
      transition: transform 0.365s cubic-bezier(0.42, 0, 0.58, 1);
      border: 5px solider whitesmoke;
      border-radius: 25px;
      box-shadow: 1px -1px 20px rgb(187, 187, 187);
      margin-top: 49px;
    }
    input{
      text-align: center;
      margin-top: 2px;
    }
    input[type='text']{
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 0.5px whitesmoke solid;

    }
    input[type='tel']{
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 0.5px whitesmoke solid;
      margin-top: 10px;



    }
    input[type='password']{
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 0.5px whitesmoke solid;
      margin-top: 10px;
      margin-right: -40px;

    }
    input:focus{
      outline: 0px;
      border: 1px solid green;
      text-align: center;
    }
    #namkhanlabel{
      position: absolute;
      right:12px;
      color: black;
      margin-top: -10px;
      font-size: 90%;
    }
    #ersal{
      color: white;
      border: none;
      background-color: palevioletred;
      width: 20%;
      height: 35px;
      border-radius: 5px;
      background-color: rgb(214, 52, 106);
      margin-right: 10px;
      margin-top: 3%;
      position: relative;
      top: 5%;

    }
    #ersal:hover{
      background-color: rgb(185, 42, 90);
      transition: 0.365s;
    }
    #signup{
      color: white;
      border: none;
      background-color: palevioletred;
      width: 200px;
      height: 35px;
      border-radius: 5px;
      background-color: orange;
      margin-top: 7.5%;
    }
    #signup:hover{
      background-color: rgb(212, 138, 0);
      transition: 0.365s;
    }
    footer{
        width: 100%;
        height: 70px;
        background-color: black;
        color: white;
        text-align: center;
        position: relative;
      }
      footer h1{
        position: relative;
        top: 10px;
        text-align: center;
      }
      #icon{
        width: 32.5px;
        height: 32.5px;
        position: relative;
        top:11px;
        right: -300px;
      }
      #password{
        margin-right: 30px;
        }

        .file-input-container {
            display: inline-block;
            padding: 5px 45px;
            background-color: #ffffff;
            border: 2px dashed blue;
            border-radius: 5px;
            cursor: pointer;
        }
        .file-input-container:hover {
            border-color: rgb(0, 0, 163);
        }
        .file-input {
            display: none;
        }
        .selected-file {
            font-size: 18px;
            color: red;
            margin-top: 10px;
        }
        .no-selected-file {
            color: #0000FF; /* تغییر رنگ متن به آبی */
        }

    
  }
  @media screen and (max-width:624px) {
    body {
      background-image: url(images/pexels_engin_akyurt_1487809.jpg);
      margin: 0;
      padding: 0;
      background-repeat: no-repeat;
      background-size: 100% 100%;
      background-attachment: fixed;
    }
    header{
        width: 100%;
        height: 70px;
        background-color: black;
        color: white;
        text-align: center;
    }
    header h1{
      position: relative;
      top: 15px;
      font-size:x-large;
    }
    form {
      position:relative;
      margin-left: 5%;
      margin-right: 5%;
      width: 90%;
      height: 750px;
      background-color: aquamarine;
      transition: transform 0.365s cubic-bezier(0.42, 0, 0.58, 1);
      border: 5px solider whitesmoke;
      border-radius: 25px;
      margin-right: 50px;
      bottom: 25px;
      box-shadow: 1px -1px 20px rgb(187, 187, 187);
      margin-top: 49px;
    }
    input{
      text-align: center;
      margin-top: 2px;
    }
    input[type='text']{
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 0.5px whitesmoke solid;

    }
    input[type='tel']{
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 0.5px whitesmoke solid;
      margin-top: 10px;



    }
    input[type='password']{
      width: 250px;
      height: 40px;
      border-radius: 5px;
      border: 0.5px whitesmoke solid;
      margin-top: 10px;
      margin-right: -40px;

    }
    input:focus{
      outline: 0px;
      border: 1px solid green;
      text-align: center;
    }
    #namkhanlabel{
      position: absolute;
      right:12px;
      color: black;
      margin-top: -10px;
      font-size: 90%;
    }
    #ersal{
      color: white;
      border: none;
      background-color: palevioletred;
      width: 20%;
      height: 35px;
      border-radius: 5px;
      background-color: rgb(214, 52, 106);
      margin-right: 10px;
      margin-top: 3%;
      position: relative;
      top: 5%;

    }
    #ersal:hover{
      background-color: rgb(185, 42, 90);
      transition: 0.365s;
    }
    #signup{
      color: white;
      border: none;
      background-color: palevioletred;
      width: 200px;
      height: 35px;
      border-radius: 5px;
      background-color: orange;
      margin-top: 7.5%;
    }
    #signup:hover{
      background-color: rgb(216, 140, 0);
      transition: 0.365s;
    }
    footer{
        width: 100%;
        height: 70px;
        background-color: black;
        color: white;
        text-align: center;
        position: relative;
      }
      footer h1{
        position: relative;
        top: 10px;
        text-align: center;
      }
      #icon{
        width: 32.5px;
        height: 32.5px;
        position: relative;
        top:11px;
        right: -300px;
      }
      #password{
        margin-right: 30px;
        }
        .file-input-container {
            display: inline-block;
            padding: 5px 45px;
            background-color: #ffffff;
            border: 2px dashed blue;
            border-radius: 5px;
            cursor: pointer;
        }
        .file-input-container:hover {
            border-color: rgb(0, 0, 163);
        }
        .file-input {
            display: none;
        }
        .selected-file {
            font-size: 18px;
            color: red;
            margin-top: 10px;
        }
        .no-selected-file {
            color: #0000FF; /* تغییر رنگ متن به آبی */
        }
  }
  </style>
  <script>

     // فراخوانی سرویس ip-api.com برای دریافت اطلاعات مکان جغرافیایی کاربر
function getGeoLocation(callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://ip-api.com/json');
    xhr.onreadystatechange = function() {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
            var response = JSON.parse(xhr.responseText);
            callback(response);
        }
    };
    xhr.send();
}

// بررسی آیا مکان جغرافیایی کاربر داخل ایران است یا خیر
function isUserInIran(callback) {
    getGeoLocation(function(response) {
        var country = response.countryCode;
        callback(country === 'IR');
    });
}

// اجرای تابع بررسی برای تصمیم‌گیری درباره دسترسی کاربر به وبسایت
isUserInIran(function(isInIran) {
    if (!isInIran) {
        // اگر کاربر خارج از ایران است، اقدام به محدود کردن دسترسی کنید

        alert("تنها کاربرانی که در داخل ایران حضور دارند میتوانند اقدام به ورود به سایت کنند! لطفا اگر فیلترشکن شما فعال است آن را غیر فعال کنید" , "color: red;");
        window.location.href = "filtering.html"; // آدرس صفحه دسترسی ممنوع
    } else {
        // اگر کاربر در داخل ایران است، به وبسایت اجازه ورود بدهید
    }
});

function togglePasswordVisibility() {
      var passwordInput = document.getElementById("password");
      var passwordIcon = document.getElementById("icon");

      if (passwordInput.type === "password") {
        passwordInput.type = "text";
        passwordIcon.src = "images/eye_open.png"; // تصویر آیکون چشم باز
      } else {
        passwordInput.type = "password";
        passwordIcon.src = "images/eye_closed.png"; // تصویر آیکون چشم بسته
      }
    }


    
    var telephoneInput = document.getElementById('telephone');
    var ersalButton = document.getElementById('ersal');

    telephoneInput.addEventListener('input', function() {
      ersalButton.style.display = false;
      if (telephoneInput.value.trim() === '') {
        ersalButton.style.display = false;
      } else {
        ersalButton.style.display = true;
      }
    });
    

  </script>
</head>
<body>
    <header>
        <h1>صفحه ثبت نام سایت بازار قائم</h1>
      </header>
    <main>

  
<center>
    <form action="savesignup.php" method="post">
      <center>
      <br>
      <label for="namkhan" id="namkhanlabel">:لطفا نام و نام خانوادگی خود را به فارسی وارد کنید</label>
      <br>
      <input type="text" id="namkhan" name="namkh" dir="rtl" minlength="2" placeholder="نام و نام خانوادگی : مثلا امیرحسین علیپور" required>
      <br>
      <br>
      <label for="kod_malli" id="namkhanlabel">:لطفا کد ملّی خود را به صورت کامل وارد کنید</label>
      <br>
      <input type="text" placeholder=":کد ملی شما" name="kod_malli" inputmode="numeric" maxlength="10" minlength="10"  required>
      <br>
      <br>
      <label for="password" id="namkhanlabel">:لطفا به انگلیسی برای خود یک رمز عبور انتخاب کنید</label>
      <br>
      <img src="images/eye_closed.png" id="icon" class="icon" onclick="togglePasswordVisibility()">
      <input type="password" name="password" id="password" placeholder=":رمز عبور شما"  required minlength="8">
      <br>
      <br>
      <label for="telephone" id="namkhanlabel">:لطفا شماره تلفن خود را وارد کنید</label>
      <br>
      <input type="tel" name="username" id="telephone" dir="ltr" maxlength="11" minlength="11"  inputmode="numeric" placeholder="09*********" [0-9]{2}\d*  required>
      <br>
      <br>
      <label for="file-input" id="namkhanlabel">:لطفا عکس پروفایل خود را وارد کنید</label>
      <br>
      <div class="file-input-container">
        <label for="file-input" class="file-label">عکس خود را انتخاب کنید</label>
        <br>
        <input type="file" id="file-input" class="file-input" dir="rtl"  accept="image/*"  required>
    </div>
    <p class="selected-file">هیچ عکسی انتخاب نشده است!</p>
    
    <script>
        const fileInput = document.getElementById('file-input');
        const selectedFileText = document.querySelector('.selected-file');

        fileInput.addEventListener('change', (event) => {
            const selectedFile = event.target.files[0];
            if (selectedFile) {
                selectedFileText.textContent = `عکس پروفایل انتخاب شد`;
                selectedFileText.classList.add('no-selected-file'); // حذف کلاس برای تغییر رنگ متن

            } else {
                selectedFileText.textContent = 'هیچ عکسی انتخاب نشده است.';
                selectedFileText.classList.remove('no-selected-file'); // اضافه کردن کلاس برای تغییر رنگ متن

            }
        });
    </script>
      <br>
      <br>
      <label for="teleg" id="namkhanlabel">:ابتدا ارسال کد را کلیک و سپس کد ارسال شده را وارد کنید</label>
      <br>
      <button id="ersal">:ارسال کد</button>
      <script>
        var button = document.getElementById("ersal");
       
       button.addEventListener("click", function() {
         button.disabled = true;
         countdown(2, 0);
       });
       
       function countdown(minutes, seconds) {
         button.innerHTML = formatTime(minutes, seconds);
         var interval = setInterval(function() {
           if (seconds > 0) {
             seconds--;
           } else {
             if (minutes > 0) {
               minutes--;
               seconds = 59;
             } else {
               clearInterval(interval);
               button.innerHTML = ":ارسال کد";
               button.disabled = false; // فعال کردن دکمه
               return;
             }
           }
           button.innerHTML = formatTime(minutes, seconds);
         }, 1000); // هر 1,000 میلی‌ثانیه (1 ثانیه) تابع setInterval فراخوانی می‌شود
       }
       
       function formatTime(minutes, seconds) {
         return padZero(minutes) + ":" + padZero(seconds);
       }
       
       function padZero(num) {
         return (num < 10 ? "0" : "") + num;
       }
       
         </script>
      <input type="text" inputmode="numeric" name="teleg" id="teleg" placeholder=":لطفا کد ارسال شده را وارد کنید" maxlength="6" minlength="4">
    
      <br>
      <br>
  
      <button type="submit" id="signup">تایید و ثبت نام</button>
    </center>
    </form>

  </center>
</main>

<br><br>
<footer>
    <h1>
      www.bazar-ghaem.ir
    </h1>
  </footer>


</body>
</html>
